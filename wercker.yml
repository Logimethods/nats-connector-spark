box: lmagnin/docker-maven-nats
build:
  steps:
    - xenoterracide/maven:
        goals: compile test
deploy:
  steps:
    - xenoterracide/maven:
        name: Deploy jar file
        goals: -s ./settings.xml deploy
        
javadoc:
  steps:
    # https://github.com/wercker/support/issues/48
    - install-packages:
        packages: git openssh-client
    - add-to-known_hosts:
        # https://github.com/wercker/step-add-to-known_hosts
        hostname: github.com
        fingerprint: 16:27:ac:a5:76:28:2d:36:63:1b:56:4d:eb:df:a6:48
        type: rsa
    - add-ssh-key:
        keyname: GIT_PRIVATE_SSH_KEY
    - xenoterracide/maven:
        name: Deploy Javadoc to github pages
        goals: -e -X -s ./settings.xml scm-publish:publish-scm
